<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p149" style="overflow: hidden; position: relative; background-color: white; width: 790px; height: 1018px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_149{left:120px;bottom:945px;letter-spacing:0.14px;}
#t2_149{left:521px;bottom:945px;letter-spacing:0.1px;word-spacing:0.25px;}
#t3_149{left:148px;bottom:731px;letter-spacing:0.05px;word-spacing:0.38px;}
#t4_149{left:120px;bottom:712px;letter-spacing:0.09px;word-spacing:-0.24px;}
#t5_149{left:120px;bottom:694px;letter-spacing:0.11px;}
#t6_149{left:143px;bottom:695px;letter-spacing:-0.15px;}
#t7_149{left:180px;bottom:694px;letter-spacing:0.13px;word-spacing:-0.03px;}
#t8_149{left:120px;bottom:641px;letter-spacing:0.02px;word-spacing:-0.72px;}
#t9_149{left:120px;bottom:608px;letter-spacing:0.07px;word-spacing:1.17px;}
#ta_149{left:120px;bottom:590px;letter-spacing:0.08px;word-spacing:1.37px;}
#tb_149{left:120px;bottom:572px;letter-spacing:0.11px;}
#tc_149{left:148px;bottom:549px;letter-spacing:0.08px;word-spacing:-0.12px;}
#td_149{left:120px;bottom:530px;letter-spacing:0.11px;word-spacing:0.33px;}
#te_149{left:120px;bottom:512px;letter-spacing:0.07px;word-spacing:0.04px;}
#tf_149{left:148px;bottom:489px;letter-spacing:0.09px;word-spacing:2.38px;}
#tg_149{left:120px;bottom:471px;letter-spacing:0.09px;word-spacing:0.07px;}
#th_149{left:120px;bottom:453px;letter-spacing:0.1px;word-spacing:-0.41px;}
#ti_149{left:120px;bottom:434px;letter-spacing:0.09px;word-spacing:2.2px;}
#tj_149{left:120px;bottom:416px;letter-spacing:0.1px;word-spacing:-0.12px;}
#tk_149{left:120px;bottom:398px;letter-spacing:-0.01px;word-spacing:0.11px;}
#tl_149{left:148px;bottom:375px;letter-spacing:0.11px;word-spacing:-0.12px;}
#tm_149{left:120px;bottom:356px;letter-spacing:0.09px;word-spacing:-0.03px;}
#tn_149{left:120px;bottom:338px;letter-spacing:0.1px;word-spacing:1.42px;}
#to_149{left:354px;bottom:338px;letter-spacing:0.12px;word-spacing:1.52px;}
#tp_149{left:451px;bottom:338px;letter-spacing:0.11px;word-spacing:1.52px;}
#tq_149{left:120px;bottom:320px;letter-spacing:0.08px;word-spacing:0.03px;}
#tr_149{left:120px;bottom:276px;letter-spacing:0.06px;word-spacing:-0.46px;}
#ts_149{left:120px;bottom:243px;letter-spacing:0.08px;word-spacing:0.02px;}
#tt_149{left:120px;bottom:225px;letter-spacing:0.1px;word-spacing:0.52px;}
#tu_149{left:120px;bottom:207px;letter-spacing:0.09px;word-spacing:1.01px;}
#tv_149{left:120px;bottom:188px;letter-spacing:0.08px;word-spacing:0.03px;}
#tw_149{left:148px;bottom:165px;letter-spacing:0.25px;word-spacing:0.61px;}
#tx_149{left:120px;bottom:147px;letter-spacing:0.23px;word-spacing:3.27px;}
#ty_149{left:120px;bottom:129px;letter-spacing:0.11px;word-spacing:-0.02px;}
#tz_149{left:120px;bottom:110px;letter-spacing:0.19px;word-spacing:0.19px;}
#t10_149{left:120px;bottom:92px;letter-spacing:0.26px;word-spacing:0.02px;}
#t11_149{left:174px;bottom:847px;letter-spacing:-0.15px;}
#t12_149{left:174px;bottom:833px;letter-spacing:-0.15px;}
#t13_149{left:179px;bottom:819px;letter-spacing:-0.15px;}
#t14_149{left:210px;bottom:806px;letter-spacing:-0.15px;}
#t15_149{left:201px;bottom:792px;letter-spacing:-0.15px;}
#t16_149{left:174px;bottom:778px;}
#t17_149{left:148px;bottom:764px;}
#t18_149{left:148px;bottom:885px;letter-spacing:0.1px;word-spacing:0.02px;}
#t19_149{left:148px;bottom:865px;letter-spacing:0.17px;}

.s1_149{font-size:15px;font-family:TimesNewRomanPS_12k;color:#231F20;}
.s2_149{font-size:15px;font-family:TimesNewRomanPS-Bold_12g;color:#231F20;}
.s3_149{font-size:14px;font-family:Courier_12t;color:#231F20;}
.s4_149{font-size:21px;font-family:TimesNewRomanPS-Bold_12g;color:#231F20;}
.s5_149{font-size:15px;font-family:TimesNewRomanPS-Italic_12p;color:#231F20;}
.s6_149{font-size:15px;font-family:Courier-Bold_12r;color:#231F20;}
.t.v0_149{transform:scaleX(0.8);}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts149" type="text/css" >

@font-face {
	font-family: Courier-Bold_12r;
	src: url("fonts/Courier-Bold_12r.woff") format("woff");
}

@font-face {
	font-family: Courier_12t;
	src: url("fonts/Courier_12t.woff") format("woff");
}

@font-face {
	font-family: TimesNewRomanPS-Bold_12g;
	src: url("fonts/TimesNewRomanPS-Bold_12g.woff") format("woff");
}

@font-face {
	font-family: TimesNewRomanPS-Italic_12p;
	src: url("fonts/TimesNewRomanPS-Italic_12p.woff") format("woff");
}

@font-face {
	font-family: TimesNewRomanPS_12k;
	src: url("fonts/TimesNewRomanPS_12k.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg149Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg149" style="-webkit-user-select: none;"><svg id="pdf149" width="790" height="1018" viewBox="0 0 790 1018" style="width:790px; height:1018px; -moz-transform:scale(1); z-index: 0; isolation: isolate;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<clipPath id="c0_149"><path d="M-1.6,1017.1V-.1H792.5V1017.1Z"/></clipPath>
<style type="text/css"><![CDATA[
.g0_149{
fill: none;
stroke: #231F20;
stroke-width: 0.381;
stroke-miterlimit: 10;
}
.g1_149{
fill: none;
stroke: #FFF;
stroke-width: 1.145;
stroke-miterlimit: 10;
}
.g2_149{
fill: none;
stroke: #000;
stroke-width: 0.381;
stroke-miterlimit: 10;
}
]]></style>
</defs>
<path d="M120.4,111.6V254.8M672.5,111.6V254.8M120.2,111.4H672.7M120.2,152.7H672.7M120.2,255H672.7" class="g0_149"/>
<g clip-path="url(#c0_149)">
<path d="M-58.2,1.4h55m-55,1017.5h55m797.4,0h55M794.2,1.4h55M10.4,-67.2v55m770,-55v55m0,1044.9v55m-770,-55v55" class="g1_149"/>
<path d="M-58.2,1.4h55m-55,1017.5h55m797.4,0h55M794.2,1.4h55M10.4,-67.2v55m770,-55v55m0,1044.9v55m-770,-55v55M-7.8,510.2c0,-5.1,-4.1,-9.2,-9.2,-9.2c-5,0,-9.1,4.1,-9.1,9.2c0,5,4.1,9.1,9.1,9.1c5.1,0,9.2,-4.1,9.2,-9.1Zm-36.7,0H-3.2M-17,473.5v73.3M817.1,510.2c0,-5.1,-4.1,-9.2,-9.2,-9.2c-5,0,-9.1,4.1,-9.1,9.2c0,5,4.1,9.1,9.1,9.1c5.1,0,9.2,-4.1,9.2,-9.1Zm-22.9,0h41.2M807.9,473.5v73.3M-7.8,19.8c0,-5.1,-4.1,-9.2,-9.2,-9.2c-5,0,-9.1,4.1,-9.1,9.2c0,5,4.1,9.1,9.1,9.1c5.1,0,9.2,-4.1,9.2,-9.1Zm-36.7,0H-3.2M-17,6V56.4m9.2,944.2c0,-5.1,-4.1,-9.2,-9.2,-9.2c-5,0,-9.1,4.1,-9.1,9.2c0,5.1,4.1,9.2,9.1,9.2c5.1,0,9.2,-4.1,9.2,-9.2Zm-36.7,0H-3.2M-17,963.9v50.4M817.1,19.8c0,-5.1,-4.1,-9.2,-9.2,-9.2c-5,0,-9.1,4.1,-9.1,9.2c0,5,4.1,9.1,9.1,9.1c5.1,0,9.2,-4.1,9.2,-9.1Zm-22.9,0h41.2M807.9,6V56.4m9.2,944.2c0,-5.1,-4.1,-9.2,-9.2,-9.2c-5,0,-9.1,4.1,-9.1,9.2c0,5.1,4.1,9.2,9.1,9.2c5.1,0,9.2,-4.1,9.2,-9.2Zm-22.9,0h41.2M807.9,963.9v50.4" class="g2_149"/>
</g>
</svg></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_149" class="t s1_149">118 </span><span id="t2_149" class="t s2_149">Chapter 8: Boundaries </span>
<span id="t3_149" class="t s1_149">Now we know how to get a simple console logger initialized, and we can encapsulate </span>
<span id="t4_149" class="t s1_149">that knowledge into our own logger class so that the rest of our application is isolated from </span>
<span id="t5_149" class="t s1_149">the </span><span id="t6_149" class="t v0_149 s3_149">log4j </span><span id="t7_149" class="t s1_149">boundary interface. </span>
<span id="t8_149" class="t s4_149">Learning Tests Are Better Than Free </span>
<span id="t9_149" class="t s1_149">The learning tests end up costing nothing. We had to learn the API anyway, and writing </span>
<span id="ta_149" class="t s1_149">those tests was an easy and isolated way to get that knowledge. The learning tests were </span>
<span id="tb_149" class="t s1_149">precise experiments that helped increase our understanding. </span>
<span id="tc_149" class="t s1_149">Not only are learning tests free, they have a positive return on investment. When there </span>
<span id="td_149" class="t s1_149">are new releases of the third-party package, we run the learning tests to see whether there </span>
<span id="te_149" class="t s1_149">are behavioral differences. </span>
<span id="tf_149" class="t s1_149">Learning tests verify that the third-party packages we are using work the way we </span>
<span id="tg_149" class="t s1_149">expect them to. Once integrated, there are no guarantees that the third-party code will stay </span>
<span id="th_149" class="t s1_149">compatible with our needs. The original authors will have pressures to change their code to </span>
<span id="ti_149" class="t s1_149" data-mappings='[[39,"fi"]]'>meet new needs of their own. They will ﬁx bugs and add new capabilities. With each </span>
<span id="tj_149" class="t s1_149">release comes new risk. If the third-party package changes in some way incompatible with </span>
<span id="tk_149" class="t s1_149" data-mappings='[[19,"fi"]]'>our tests, we will ﬁnd out right away. </span>
<span id="tl_149" class="t s1_149">Whether you need the learning provided by the learning tests or not, a clean boundary </span>
<span id="tm_149" class="t s1_149">should be supported by a set of outbound tests that exercise the interface the same way the </span>
<span id="tn_149" class="t s1_149">production code does. Without these </span><span id="to_149" class="t s5_149">boundary tests </span><span id="tp_149" class="t s1_149">to ease the migration, we might be </span>
<span id="tq_149" class="t s1_149">tempted to stay with the old version longer than we should. </span>
<span id="tr_149" class="t s4_149">Using Code That Does Not Yet Exist </span>
<span id="ts_149" class="t s1_149">There is another kind of boundary, one that separates the known from the unknown. There </span>
<span id="tt_149" class="t s1_149">are often places in the code where our knowledge seems to drop off the edge. Sometimes </span>
<span id="tu_149" class="t s1_149">what is on the other side of the boundary is unknowable (at least right now). Sometimes </span>
<span id="tv_149" class="t s1_149">we choose to look no farther than the boundary. </span>
<span id="tw_149" class="t s1_149">A number of years back I was part of a team developing software for a radio com- </span>
<span id="tx_149" class="t s1_149">munications system. There was a subsystem, the “Transmitter,” that we knew little </span>
<span id="ty_149" class="t s1_149" data-mappings='[[85,"fi"]]'>about, and the people responsible for the subsystem had not gotten to the point of deﬁning </span>
<span id="tz_149" class="t s1_149">their interface. We did not want to be blocked, so we started our work far away from the </span>
<span id="t10_149" class="t s1_149">unknown part of the code. </span>
<span id="t11_149" class="t v0_149 s3_149">@Test </span>
<span id="t12_149" class="t v0_149 s3_149">public void addAppenderWithoutStream() { </span>
<span id="t13_149" class="t v0_149 s3_149">logger.addAppender(new ConsoleAppender( </span>
<span id="t14_149" class="t v0_149 s3_149">new PatternLayout("%p %t %m%n"))); </span>
<span id="t15_149" class="t v0_149 s3_149">logger.info("addAppenderWithoutStream"); </span>
<span id="t16_149" class="t v0_149 s3_149">} </span>
<span id="t17_149" class="t v0_149 s3_149">} </span>
<span id="t18_149" class="t s2_149">Listing 8-1 (continued) </span>
<span id="t19_149" class="t s6_149">LogTest.java </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
