<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p331" style="overflow: hidden; position: relative; background-color: white; width: 790px; height: 1018px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_331{left:120px;bottom:945px;letter-spacing:0.14px;}
#t2_331{left:447px;bottom:945px;letter-spacing:0.11px;word-spacing:0.13px;}
#t3_331{left:148px;bottom:890px;letter-spacing:0.09px;word-spacing:1.67px;}
#t4_331{left:120px;bottom:871px;letter-spacing:0.09px;}
#t5_331{left:120px;bottom:853px;letter-spacing:0.1px;word-spacing:0.01px;}
#t6_331{left:148px;bottom:830px;letter-spacing:0.03px;word-spacing:0.04px;}
#t7_331{left:120px;bottom:812px;letter-spacing:0.11px;}
#t8_331{left:120px;bottom:767px;letter-spacing:0.14px;}
#t9_331{left:163px;bottom:767px;letter-spacing:0.15px;word-spacing:0.01px;}
#ta_331{left:120px;bottom:737px;letter-spacing:-0.06px;word-spacing:-0.34px;}
#tb_331{left:120px;bottom:718px;letter-spacing:-0.05px;word-spacing:1.42px;}
#tc_331{left:120px;bottom:700px;letter-spacing:-0.1px;word-spacing:-0.05px;}
#td_331{left:148px;bottom:677px;letter-spacing:0.12px;word-spacing:9.34px;}
#te_331{left:120px;bottom:660px;letter-spacing:-0.15px;}
#tf_331{left:219px;bottom:659px;letter-spacing:0.1px;word-spacing:0.21px;}
#tg_331{left:120px;bottom:640px;letter-spacing:0.11px;}
#th_331{left:269px;bottom:641px;letter-spacing:-0.15px;}
#ti_331{left:361px;bottom:640px;}
#tj_331{left:148px;bottom:618px;letter-spacing:0.07px;word-spacing:-0.07px;}
#tk_331{left:120px;bottom:599px;letter-spacing:0.1px;word-spacing:-0.26px;}
#tl_331{left:120px;bottom:581px;letter-spacing:0.09px;}
#tm_331{left:148px;bottom:555px;letter-spacing:-0.15px;}
#tn_331{left:148px;bottom:541px;letter-spacing:-0.15px;}
#to_331{left:148px;bottom:528px;letter-spacing:-0.15px;}
#tp_331{left:148px;bottom:503px;letter-spacing:0.08px;word-spacing:2px;}
#tq_331{left:357px;bottom:504px;letter-spacing:-0.15px;}
#tr_331{left:443px;bottom:503px;}
#ts_331{left:453px;bottom:504px;letter-spacing:-0.15px;}
#tt_331{left:571px;bottom:503px;letter-spacing:0.1px;word-spacing:1.96px;}
#tu_331{left:609px;bottom:504px;letter-spacing:-0.15px;}
#tv_331{left:634px;bottom:503px;letter-spacing:0.11px;word-spacing:1.96px;}
#tw_331{left:120px;bottom:485px;letter-spacing:0.08px;word-spacing:0.81px;}
#tx_331{left:120px;bottom:466px;letter-spacing:0.07px;word-spacing:6.93px;}
#ty_331{left:120px;bottom:449px;letter-spacing:-0.15px;}
#tz_331{left:246px;bottom:448px;letter-spacing:0.09px;word-spacing:2.9px;}
#t10_331{left:120px;bottom:430px;letter-spacing:0.08px;word-spacing:0.22px;}
#t11_331{left:120px;bottom:411px;letter-spacing:0.08px;word-spacing:1.22px;}
#t12_331{left:404px;bottom:412px;letter-spacing:-0.15px;}
#t13_331{left:495px;bottom:411px;letter-spacing:0.12px;word-spacing:1.31px;}
#t14_331{left:120px;bottom:393px;letter-spacing:0.07px;word-spacing:0.59px;}
#t15_331{left:120px;bottom:375px;letter-spacing:0.12px;word-spacing:-0.01px;}
#t16_331{left:148px;bottom:352px;letter-spacing:0.08px;word-spacing:-0.01px;}
#t17_331{left:120px;bottom:333px;letter-spacing:0.06px;word-spacing:1.64px;}
#t18_331{left:120px;bottom:315px;letter-spacing:0.09px;word-spacing:1.71px;}
#t19_331{left:392px;bottom:315px;}
#t1a_331{left:400px;bottom:315px;}
#t1b_331{left:410px;bottom:315px;letter-spacing:0.11px;word-spacing:1.69px;}
#t1c_331{left:120px;bottom:297px;letter-spacing:0.08px;word-spacing:-0.16px;}
#t1d_331{left:120px;bottom:278px;letter-spacing:0.11px;word-spacing:-0.12px;}
#t1e_331{left:358px;bottom:279px;letter-spacing:-0.15px;}
#t1f_331{left:408px;bottom:278px;letter-spacing:0.11px;}
#t1g_331{left:148px;bottom:255px;letter-spacing:0.1px;word-spacing:1.32px;}
#t1h_331{left:120px;bottom:237px;letter-spacing:0.08px;word-spacing:0.03px;}
#t1i_331{left:148px;bottom:211px;letter-spacing:-0.15px;}
#t1j_331{left:148px;bottom:187px;letter-spacing:0.1px;word-spacing:1.56px;}
#t1k_331{left:120px;bottom:168px;letter-spacing:0.1px;word-spacing:-0.12px;}
#t1l_331{left:513px;bottom:169px;letter-spacing:-0.15px;word-spacing:-0.15px;}
#t1m_331{left:589px;bottom:168px;letter-spacing:0.1px;word-spacing:-0.05px;}
#t1n_331{left:120px;bottom:150px;letter-spacing:0.05px;word-spacing:0.05px;}
#t1o_331{left:148px;bottom:127px;letter-spacing:0.23px;word-spacing:-0.41px;}
#t1p_331{left:246px;bottom:128px;letter-spacing:-0.02px;word-spacing:-0.84px;}
#t1q_331{left:316px;bottom:127px;letter-spacing:0.18px;word-spacing:-0.33px;}
#t1r_331{left:120px;bottom:109px;letter-spacing:0.21px;word-spacing:1.74px;}

.s1_331{font-size:15px;font-family:TimesNewRomanPS_12k;color:#231F20;}
.s2_331{font-size:15px;font-family:TimesNewRomanPS-Bold_12g;color:#231F20;}
.s3_331{font-size:18px;font-family:TimesNewRomanPS-Bold_12g;color:#231F20;}
.s4_331{font-size:18px;font-family:TimesNewRomanPS-BoldItalic_12m;color:#231F20;}
.s5_331{font-size:14px;font-family:Courier_12t;color:#231F20;}
.s6_331{font-size:15px;font-family:SymbolItalic_s4;color:#231F20;}
.s7_331{font-size:15px;font-family:TimesNewRomanPS-Italic_12p;color:#231F20;}
.t.v0_331{transform:scaleX(0.8);}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts331" type="text/css" >

@font-face {
	font-family: Courier_12t;
	src: url("fonts/Courier_12t.woff") format("woff");
}

@font-face {
	font-family: SymbolItalic_s4;
	src: url("fonts/SymbolItalic_s4.woff") format("woff");
}

@font-face {
	font-family: TimesNewRomanPS-BoldItalic_12m;
	src: url("fonts/TimesNewRomanPS-BoldItalic_12m.woff") format("woff");
}

@font-face {
	font-family: TimesNewRomanPS-Bold_12g;
	src: url("fonts/TimesNewRomanPS-Bold_12g.woff") format("woff");
}

@font-face {
	font-family: TimesNewRomanPS-Italic_12p;
	src: url("fonts/TimesNewRomanPS-Italic_12p.woff") format("woff");
}

@font-face {
	font-family: TimesNewRomanPS_12k;
	src: url("fonts/TimesNewRomanPS_12k.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg331Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg331" style="-webkit-user-select: none;"><svg id="pdf331" width="790" height="1018" viewBox="0 0 790 1018" style="width:790px; height:1018px; -moz-transform:scale(1); z-index: 0; isolation: isolate;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<clipPath id="c0_331"><path d="M-1.6,1017.1V-.1H792.5V1017.1Z"/></clipPath>
<style type="text/css"><![CDATA[
.g0_331{
fill: none;
stroke: #FFF;
stroke-width: 1.145;
stroke-miterlimit: 10;
}
.g1_331{
fill: none;
stroke: #000;
stroke-width: 0.381;
stroke-miterlimit: 10;
}
]]></style>
</defs>
<g clip-path="url(#c0_331)">
<path d="M-58.2,1.4h55m-55,1017.5h55m797.4,0h55M794.2,1.4h55M10.4,-67.2v55m770,-55v55m0,1044.9v55m-770,-55v55" class="g0_331"/>
<path d="M-58.2,1.4h55m-55,1017.5h55m797.4,0h55M794.2,1.4h55M10.4,-67.2v55m770,-55v55m0,1044.9v55m-770,-55v55M-7.8,510.2c0,-5.1,-4.1,-9.2,-9.2,-9.2c-5,0,-9.1,4.1,-9.1,9.2c0,5,4.1,9.1,9.1,9.1c5.1,0,9.2,-4.1,9.2,-9.1Zm-36.7,0H-3.2M-17,473.5v73.3M817,510.2c0,-5.1,-4.1,-9.2,-9.2,-9.2c-5,0,-9.1,4.1,-9.1,9.2c0,5,4.1,9.1,9.1,9.1c5.1,0,9.2,-4.1,9.2,-9.1Zm-22.8,0h41.2M807.9,473.5v73.3M-7.8,19.8c0,-5.1,-4.1,-9.2,-9.2,-9.2c-5,0,-9.1,4.1,-9.1,9.2c0,5,4.1,9.1,9.1,9.1c5.1,0,9.2,-4.1,9.2,-9.1Zm-36.7,0H-3.2M-17,6V56.4m9.2,944.2c0,-5.1,-4.1,-9.2,-9.2,-9.2c-5,0,-9.1,4.1,-9.1,9.2c0,5.1,4.1,9.2,9.1,9.2c5.1,0,9.2,-4.1,9.2,-9.2Zm-36.7,0H-3.2M-17,963.9v50.4M817,19.8c0,-5.1,-4.1,-9.2,-9.2,-9.2c-5,0,-9.1,4.1,-9.1,9.2c0,5,4.1,9.1,9.1,9.1c5.1,0,9.2,-4.1,9.2,-9.1Zm-22.8,0h41.2M807.9,6V56.4m9.1,944.2c0,-5.1,-4.1,-9.2,-9.2,-9.2c-5,0,-9.1,4.1,-9.1,9.2c0,5.1,4.1,9.2,9.1,9.2c5.1,0,9.2,-4.1,9.2,-9.2Zm-22.8,0h41.2M807.9,963.9v50.4" class="g1_331"/>
</g>
</svg></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_331" class="t s1_331">300 </span><span id="t2_331" class="t s2_331">Chapter 17: Smells and Heuristics </span>
<span id="t3_331" class="t s1_331">Everyone on the team should follow these conventions. This means that each team </span>
<span id="t4_331" class="t s1_331">member must be mature enough to realize that it doesn’t matter a whit where you put your </span>
<span id="t5_331" class="t s1_331">braces so long as you all agree on where to put them. </span>
<span id="t6_331" class="t s1_331">If you would like to know what conventions I follow, you’ll see them in the refactored </span>
<span id="t7_331" class="t s1_331">code in Listing B-7 on page 394, through Listing B-14. </span>
<span id="t8_331" class="t s3_331">G25: </span><span id="t9_331" class="t s4_331">Replace Magic Numbers with Named Constants </span>
<span id="ta_331" class="t s1_331">This is probably one of the oldest rules in software development. I remember reading it in the </span>
<span id="tb_331" class="t s1_331">late sixties in introductory COBOL, FORTRAN, and PL/1 manuals. In general it is a bad </span>
<span id="tc_331" class="t s1_331">idea to have raw numbers in your code. You should hide them behind well-named constants. </span>
<span id="td_331" class="t s1_331">For example, the number 86,400 should be hidden behind the constant </span>
<span id="te_331" class="t v0_331 s5_331">SECONDS_PER_DAY</span><span id="tf_331" class="t s1_331">. If you are printing 55 lines per page, then the constant 55 should be hid- </span>
<span id="tg_331" class="t s1_331">den behind the constant </span><span id="th_331" class="t v0_331 s5_331">LINES_PER_PAGE</span><span id="ti_331" class="t s1_331">. </span>
<span id="tj_331" class="t s1_331">Some constants are so easy to recognize that they don’t always need a named constant </span>
<span id="tk_331" class="t s1_331">to hide behind so long as they are used in conjunction with very self-explanatory code. For </span>
<span id="tl_331" class="t s1_331">example: </span>
<span id="tm_331" class="t v0_331 s5_331">double milesWalked = feetWalked/5280.0; </span>
<span id="tn_331" class="t v0_331 s5_331">int dailyPay = hourlyRate * 8; </span>
<span id="to_331" class="t v0_331 s5_331">double circumference = radius * Math.PI * 2; </span>
<span id="tp_331" class="t s1_331">Do we really need the constants </span><span id="tq_331" class="t v0_331 s5_331">FEET_PER_MILE</span><span id="tr_331" class="t s1_331">, </span><span id="ts_331" class="t v0_331 s5_331">WORK_HOURS_PER_DAY</span><span id="tt_331" class="t s1_331">, and </span><span id="tu_331" class="t v0_331 s5_331">TWO </span><span id="tv_331" class="t s1_331">in the </span>
<span id="tw_331" class="t s1_331">above examples? Clearly, the last case is absurd. There are some formulae in which con- </span>
<span id="tx_331" class="t s1_331">stants are simply better written as raw numbers. You might quibble about the </span>
<span id="ty_331" class="t v0_331 s5_331">WORK_HOURS_PER_DAY </span><span id="tz_331" class="t s1_331">case because the laws or conventions might change. On the other </span>
<span id="t10_331" class="t s1_331">hand, that formula reads so nicely with the 8 in it that I would be reluctant to add 17 extra </span>
<span id="t11_331" class="t s1_331">characters to the readers’ burden. And in the </span><span id="t12_331" class="t v0_331 s5_331">FEET_PER_MILE </span><span id="t13_331" class="t s1_331">case, the number 5280 is so </span>
<span id="t14_331" class="t s1_331">very well known and so unique a constant that readers would recognize it even if it stood </span>
<span id="t15_331" class="t s1_331">alone on a page with no context surrounding it. </span>
<span id="t16_331" class="t s1_331">Constants like 3.141592653589793 are also very well known and easily recognizable. </span>
<span id="t17_331" class="t s1_331">However, the chance for error is too great to leave them raw. Every time someone sees </span>
<span id="t18_331" class="t s1_331">3.1415927535890793, they know that it is </span><span id="t19_331" class="t s6_331">p</span><span id="t1a_331" class="t s7_331">, </span><span id="t1b_331" class="t s1_331">and so they fail to scrutinize it. (Did you </span>
<span id="t1c_331" class="t s1_331">catch the single-digit error?) We also don’t want people using 3.14, 3.14159, 3.142, and so </span>
<span id="t1d_331" class="t s1_331">forth. Therefore, it is a good thing that </span><span id="t1e_331" class="t v0_331 s5_331">Math.PI </span><span id="t1f_331" class="t s1_331" data-mappings='[[19,"fi"]]'>has already been deﬁned for us. </span>
<span id="t1g_331" class="t s1_331">The term “Magic Number” does not apply only to numbers. It applies to any token </span>
<span id="t1h_331" class="t s1_331">that has a value that is not self-describing. For example: </span>
<span id="t1i_331" class="t v0_331 s5_331">assertEquals(7777, Employee.find(“John Doe”).employeeNumber()); </span>
<span id="t1j_331" class="t s1_331" data-mappings='[[51,"fi"]]'>There are two magic numbers in this assertion. The ﬁrst is obviously 7777, though </span>
<span id="t1k_331" class="t s1_331">what it might mean is not obvious. The second magic number is </span><span id="t1l_331" class="t v0_331 s5_331">"John Doe," </span><span id="t1m_331" class="t s1_331">and again the </span>
<span id="t1n_331" class="t s1_331">intent is not clear. </span>
<span id="t1o_331" class="t s1_331">It turns out that </span><span id="t1p_331" class="t v0_331 s5_331">"John Doe" </span><span id="t1q_331" class="t s1_331">is the name of employee #7777 in a well-known test data- </span>
<span id="t1r_331" class="t s1_331">base created by our team. Everyone in the team knows that when you connect to this </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
