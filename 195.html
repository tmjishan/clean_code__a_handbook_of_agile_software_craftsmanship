<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p195" style="overflow: hidden; position: relative; background-color: white; width: 790px; height: 1018px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_195{left:120px;bottom:945px;letter-spacing:0.14px;}
#t2_195{left:536px;bottom:945px;letter-spacing:0.1px;word-spacing:0.26px;}
#t3_195{left:148px;bottom:760px;letter-spacing:0.1px;word-spacing:1.31px;}
#t4_195{left:120px;bottom:742px;letter-spacing:-0.15px;}
#t5_195{left:153px;bottom:741px;letter-spacing:0.07px;word-spacing:2.44px;}
#t6_195{left:120px;bottom:723px;letter-spacing:0.09px;word-spacing:0.03px;}
#t7_195{left:148px;bottom:480px;letter-spacing:0.05px;word-spacing:-0.17px;}
#t8_195{left:349px;bottom:481px;letter-spacing:-0.15px;}
#t9_195{left:438px;bottom:480px;letter-spacing:0.09px;word-spacing:-0.23px;}
#ta_195{left:467px;bottom:481px;letter-spacing:-0.15px;}
#tb_195{left:497px;bottom:480px;letter-spacing:0.09px;word-spacing:-0.22px;}
#tc_195{left:120px;bottom:462px;letter-spacing:0.12px;word-spacing:-0.14px;}
#td_195{left:364px;bottom:463px;letter-spacing:0.15px;}
#te_195{left:430px;bottom:471px;letter-spacing:0.2px;}
#tf_195{left:442px;bottom:462px;letter-spacing:0.09px;word-spacing:-0.11px;}
#tg_195{left:120px;bottom:443px;letter-spacing:0.09px;}
#th_195{left:159px;bottom:444px;letter-spacing:-0.15px;}
#ti_195{left:190px;bottom:443px;letter-spacing:0.08px;word-spacing:-0.01px;}
#tj_195{left:653px;bottom:443px;}
#tk_195{left:148px;bottom:420px;letter-spacing:0.1px;word-spacing:1.88px;}
#tl_195{left:120px;bottom:402px;letter-spacing:0.11px;}
#tm_195{left:148px;bottom:376px;letter-spacing:-0.15px;}
#tn_195{left:163px;bottom:363px;letter-spacing:-0.15px;}
#to_195{left:148px;bottom:349px;letter-spacing:-0.15px;}
#tp_195{left:120px;bottom:324px;letter-spacing:0.07px;word-spacing:1.01px;}
#tq_195{left:517px;bottom:324px;letter-spacing:0.11px;word-spacing:0.97px;}
#tr_195{left:120px;bottom:306px;letter-spacing:0.09px;word-spacing:0.28px;}
#ts_195{left:330px;bottom:306px;letter-spacing:0.1px;word-spacing:0.26px;}
#tt_195{left:120px;bottom:288px;letter-spacing:0.1px;word-spacing:0.02px;}
#tu_195{left:148px;bottom:265px;letter-spacing:0.16px;word-spacing:-0.35px;}
#tv_195{left:444px;bottom:274px;letter-spacing:0.24px;}
#tw_195{left:456px;bottom:265px;letter-spacing:0.18px;word-spacing:-0.38px;}
#tx_195{left:120px;bottom:246px;letter-spacing:0.18px;word-spacing:-0.05px;}
#ty_195{left:120px;bottom:228px;letter-spacing:0.16px;word-spacing:1.9px;}
#tz_195{left:120px;bottom:210px;letter-spacing:0.17px;word-spacing:1.66px;}
#t10_195{left:163px;bottom:847px;letter-spacing:-0.15px;}
#t11_195{left:163px;bottom:833px;letter-spacing:-0.15px;}
#t12_195{left:161px;bottom:819px;letter-spacing:-0.15px;}
#t13_195{left:148px;bottom:806px;letter-spacing:-0.15px;}
#t14_195{left:358px;bottom:549px;letter-spacing:0.07px;word-spacing:0.05px;}
#t15_195{left:295px;bottom:529px;letter-spacing:0.11px;}
#t16_195{left:120px;bottom:125px;letter-spacing:-0.14px;word-spacing:2.31px;}
#t17_195{left:120px;bottom:112px;letter-spacing:-0.13px;}
#t18_195{left:139px;bottom:112px;letter-spacing:-0.13px;word-spacing:-0.3px;}
#t19_195{left:402px;bottom:112px;letter-spacing:-0.18px;word-spacing:-0.25px;}
#t1a_195{left:531px;bottom:112px;letter-spacing:-0.14px;word-spacing:-0.28px;}
#t1b_195{left:139px;bottom:100px;letter-spacing:-0.13px;word-spacing:0.01px;}
#t1c_195{left:148px;bottom:885px;letter-spacing:0.1px;word-spacing:0.01px;}
#t1d_195{left:148px;bottom:865px;letter-spacing:0.17px;}

.s1_195{font-size:15px;font-family:TimesNewRomanPS_12k;color:#231F20;}
.s2_195{font-size:15px;font-family:TimesNewRomanPS-Bold_12g;color:#231F20;}
.s3_195{font-size:14px;font-family:Courier_12t;color:#231F20;}
.s4_195{font-size:12px;font-family:TimesNewRomanPS_12k;color:#231F20;}
.s5_195{font-size:8px;font-family:TimesNewRomanPS_12k;color:#231F20;}
.s6_195{font-size:15px;font-family:TimesNewRomanPS-Italic_12p;color:#231F20;}
.s7_195{font-size:11px;font-family:TimesNewRomanPS_12k;color:#231F20;}
.s8_195{font-size:11px;font-family:TimesNewRomanPS-Italic_12p;color:#231F20;}
.s9_195{font-size:15px;font-family:Courier-Bold_12r;color:#231F20;}
.t.v0_195{transform:scaleX(0.8);}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts195" type="text/css" >

@font-face {
	font-family: Courier-Bold_12r;
	src: url("fonts/Courier-Bold_12r.woff") format("woff");
}

@font-face {
	font-family: Courier_12t;
	src: url("fonts/Courier_12t.woff") format("woff");
}

@font-face {
	font-family: TimesNewRomanPS-Bold_12g;
	src: url("fonts/TimesNewRomanPS-Bold_12g.woff") format("woff");
}

@font-face {
	font-family: TimesNewRomanPS-Italic_12p;
	src: url("fonts/TimesNewRomanPS-Italic_12p.woff") format("woff");
}

@font-face {
	font-family: TimesNewRomanPS_12k;
	src: url("fonts/TimesNewRomanPS_12k.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg195Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg195" style="-webkit-user-select: none;"><svg id="pdf195" width="790" height="1018" viewBox="0 0 790 1018" style="width:790px; height:1018px; -moz-transform:scale(1); z-index: 0; isolation: isolate;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<clipPath id="c0_195"><path d="M192.8,446.1V314.6H598V446.1Z"/></clipPath>
<clipPath id="c1_195"><path d="M-1.6,1017.1V-.1H792.5V1017.1Z"/></clipPath>
<style type="text/css"><![CDATA[
.g0_195{
fill: none;
stroke: #231F20;
stroke-width: 0.763;
stroke-linecap: square;
stroke-miterlimit: 10;
}
.g1_195{
fill: none;
stroke: #231F20;
stroke-width: 0.381;
stroke-miterlimit: 10;
}
.g2_195{
fill: none;
stroke: #FFF;
stroke-width: 1.145;
stroke-miterlimit: 10;
}
.g3_195{
fill: none;
stroke: #000;
stroke-width: 0.381;
stroke-miterlimit: 10;
}
]]></style>
</defs>
<path d="M134.2,859.9h220m-220,0h220" class="g0_195"/>
<path d="M120.4,111.6v102m552.1,-102v102M120.2,111.4H672.7M120.2,152.7H672.7M120.2,213.8H672.7" class="g1_195"/>
<image clip-path="url(#c0_195)" preserveAspectRatio="none" x="193" y="315" width="403" height="127" xlink:href="195/img/1.jpg"/>
<g clip-path="url(#c1_195)">
<path d="M-58.2,1.4h55m-55,1017.5h55m797.4,0h55M794.2,1.4h55M10.4,-67.2v55m770,-55v55m0,1044.9v55m-770,-55v55" class="g2_195"/>
<path d="M-58.2,1.4h55m-55,1017.5h55m797.4,0h55M794.2,1.4h55M10.4,-67.2v55m770,-55v55m0,1044.9v55m-770,-55v55M-7.8,510.2c0,-5.1,-4.1,-9.2,-9.2,-9.2c-5,0,-9.1,4.1,-9.1,9.2c0,5,4.1,9.1,9.1,9.1c5.1,0,9.2,-4.1,9.2,-9.1Zm-36.7,0H-3.2M-17,473.5v73.3M817.1,510.2c0,-5.1,-4.1,-9.2,-9.2,-9.2c-5,0,-9.1,4.1,-9.1,9.2c0,5,4.1,9.1,9.1,9.1c5.1,0,9.2,-4.1,9.2,-9.1Zm-22.9,0h41.2M807.9,473.5v73.3M-7.8,19.8c0,-5.1,-4.1,-9.2,-9.2,-9.2c-5,0,-9.1,4.1,-9.1,9.2c0,5,4.1,9.1,9.1,9.1c5.1,0,9.2,-4.1,9.2,-9.1Zm-36.7,0H-3.2M-17,6V56.4m9.2,944.2c0,-5.1,-4.1,-9.2,-9.2,-9.2c-5,0,-9.1,4.1,-9.1,9.2c0,5.1,4.1,9.2,9.1,9.2c5.1,0,9.2,-4.1,9.2,-9.2Zm-36.7,0H-3.2M-17,963.9v50.4M817.1,19.8c0,-5.1,-4.1,-9.2,-9.2,-9.2c-5,0,-9.1,4.1,-9.1,9.2c0,5,4.1,9.1,9.1,9.1c5.1,0,9.2,-4.1,9.2,-9.1Zm-22.9,0h41.2M807.9,6V56.4m9.2,944.2c0,-5.1,-4.1,-9.2,-9.2,-9.2c-5,0,-9.1,4.1,-9.1,9.2c0,5.1,4.1,9.2,9.1,9.2c5.1,0,9.2,-4.1,9.2,-9.2Zm-22.9,0h41.2M807.9,963.9v50.4" class="g3_195"/>
</g>
</svg></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_195" class="t s1_195">164 </span><span id="t2_195" class="t s2_195">Chapter 11: Systems </span>
<span id="t3_195" class="t s1_195">Each “bean” is like one part of a nested “Russian doll,” with a domain object for a </span>
<span id="t4_195" class="t v0_195 s3_195">Bank </span><span id="t5_195" class="t s1_195">proxied (wrapped) by a data accessor object (DAO), which is itself proxied by a </span>
<span id="t6_195" class="t s1_195">JDBC driver data source. (See Figure 11-3.) </span>
<span id="t7_195" class="t s1_195">The client believes it is invoking </span><span id="t8_195" class="t v0_195 s3_195">getAccounts() </span><span id="t9_195" class="t s1_195">on a </span><span id="ta_195" class="t v0_195 s3_195">Bank </span><span id="tb_195" class="t s1_195">object, but it is actually talk- </span>
<span id="tc_195" class="t s1_195">ing to the outermost of a set of nested D</span><span id="td_195" class="t s4_195">ECORATOR </span>
<span id="te_195" class="t s5_195">14 </span>
<span id="tf_195" class="t s1_195">objects that extend the basic behavior </span>
<span id="tg_195" class="t s1_195">of the </span><span id="th_195" class="t v0_195 s3_195">Bank </span><span id="ti_195" class="t s1_195">POJO. We could add other decorators for transactions, caching, and so forth</span><span id="tj_195" class="t s6_195">. </span>
<span id="tk_195" class="t s1_195">In the application, a few lines are needed to ask the DI container for the top-level </span>
<span id="tl_195" class="t s1_195" data-mappings='[[31,"fi"],[46,"fi"]]'>objects in the system, as speciﬁed in the XML ﬁle. </span>
<span id="tm_195" class="t v0_195 s3_195">XmlBeanFactory bf = </span>
<span id="tn_195" class="t v0_195 s3_195">new XmlBeanFactory(new ClassPathResource("app.xml", getClass())); </span>
<span id="to_195" class="t v0_195 s3_195">Bank bank = (Bank) bf.getBean("bank"); </span>
<span id="tp_195" class="t s1_195" data-mappings='[[36,"fi"]]'>Because so few lines of Spring-speciﬁc Java code are required, </span><span id="tq_195" class="t s6_195">the application is almost </span>
<span id="tr_195" class="t s6_195">completely decoupled from Spring</span><span id="ts_195" class="t s1_195">, eliminating all the tight-coupling problems of systems </span>
<span id="tt_195" class="t s1_195">like EJB2. </span>
<span id="tu_195" class="t s1_195">Although XML can be verbose and hard to read, </span>
<span id="tv_195" class="t s5_195">15 </span>
<span id="tw_195" class="t s1_195" data-mappings='[[18,"fi"]]'>the “policy” speciﬁed in these con- </span>
<span id="tx_195" class="t s1_195" data-mappings='[[0,"fi"],[10,"fi"]]'>ﬁguration ﬁles is simpler than the complicated proxy and aspect logic that is hidden from </span>
<span id="ty_195" class="t s1_195">view and created automatically. This type of architecture is so compelling that frame- </span>
<span id="tz_195" class="t s1_195">works like Spring led to a complete overhaul of the EJB standard for version 3. EJB3 </span>
<span id="t10_195" class="t v0_195 s3_195">class="com.example.banking.model.Bank" </span>
<span id="t11_195" class="t v0_195 s3_195">p:dataAccessObject-ref="bankDataAccessObject"/&gt; </span>
<span id="t12_195" class="t v0_195 s3_195">... </span>
<span id="t13_195" class="t v0_195 s3_195">&lt;/beans&gt; </span>
<span id="t14_195" class="t s2_195">Figure 11-3 </span>
<span id="t15_195" class="t s1_195">The “Russian doll” of decorators </span>
<span id="t16_195" class="t s7_195">14. [GOF]. </span>
<span id="t17_195" class="t s7_195">15. </span><span id="t18_195" class="t s7_195" data-mappings='[[25,"fi"]]'>The example can be simpliﬁed using mechanisms that exploit </span><span id="t19_195" class="t s8_195" data-mappings='[[19,"fi"]]'>convention over conﬁguration </span><span id="t1a_195" class="t s7_195">and Java 5 annotations to reduce </span>
<span id="t1b_195" class="t s7_195">the amount of explicit “wiring” logic required. </span>
<span id="t1c_195" class="t s2_195">Listing 11-4 (continued) </span>
<span id="t1d_195" class="t s9_195">Spring 2.X configuration file </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
